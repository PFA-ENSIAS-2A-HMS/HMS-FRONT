<app-navbar></app-navbar>
<app-sidebar></app-sidebar>
 
<div class="page-wrapper">
    <div class="content container-fluid">

    <div class="page-header">
    <div class="row align-items-center">
        <div class="col">
            <h3 class="page-title">Invoices</h3>
            <ul class="breadcrumb">
              <li class="breadcrumb-item"><a href="index.html">Dashboard</a></li>
              <li class="breadcrumb-item active">Invoices</li>
            </ul>
        </div>
          
    <div class="col-auto text-right float-right ml-auto">
    <a class="btn btn-outline-primary mr-2"><i class="fas fa-download"></i> Download</a>
    <a *ngIf="role=='ADMIN'"  routerLink="/invoices/add" class="btn btn-primary"><i class="fas fa-plus"></i></a>

    </div>
    </div>
    </div>


    <div class="row">
    <div class="col-sm-12">
    <div class="card card-table">
    <div class="card-body">
    <div class="table-responsive">
        <table class="table table-hover table-center mb-0 datatable">
            <thead>
              <tr>
                <th>Invoice Number</th>
                <th>Patient Name</th>
                <th>Invoice Date</th>
                <th>Due Date</th>
                <th>Total Amount</th>
                <th>Payment Status</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>INV-001</td>
                <td>John Doe</td>
                <td>2023-05-01</td>
                <td>2023-06-01</td>
                <td>200.00 MAD</td>
                <td>Paid</td>
                <td>
                  <button data-toggle="modal" data-target="#detailsInvoiceModal" class="btn btn-sm bg-primary-light mr-2" >Details</button>
                  <button data-toggle="modal" data-target="#editInvoiceModal" class="btn btn-sm bg-warning-light mr-2" >Edit</button>
                  <button data-toggle="modal" data-target="#deleteInvoiceModal" class="btn btn-sm bg-danger-light mr-2" >Delete</button>
                </td>
              </tr>
              <tr>
                <td>INV-002</td>
                <td>Jane Smith</td>
                <td>2023-05-15</td>
                <td>2023-06-15</td>
                <td>150.00 MAD</td>
                <td>Unpaid</td>
                <td>
                  <button data-toggle="modal" data-target="#detailsInvoiceModal" class="btn btn-sm bg-primary-light mr-2" >Details</button>
                  <button data-toggle="modal" data-target="#editInvoiceModal"  class="btn btn-sm bg-warning-light mr-2" >Edit</button>
                  <button data-toggle="modal" data-target="#deleteInvoiceModal" class="btn btn-sm bg-danger-light mr-2" >Delete</button>
                </td>
              </tr>
             
            </tbody>
          </table>
          
    </div>
    </div>
    </div>
    </div>
    </div>
    </div>


       


    </div>



    <div class="modal fade" id="editInvoiceModal" tabindex="-1" role="dialog" aria-labelledby="editInvoiceModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="editInvoiceModalLabel">Edit Invoice</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <div class="row">
              <div class="col-sm-12">
                <div class="card">
                  <div class="card-body">
                    <form>
                      <div class="row">
                        <div class="col-12">
                          <h5 class="form-title"><span>Invoice Information</span></h5>
                        </div>
                        <div class="col-12 col-sm-6">
                          <div class="form-group">
                            <label>Patient Name<span style="color:red">*</span></label>
                            <select class="form-control" formControlName="patientName">
                              <!-- Populate options with existing patients -->
                              <option value=""></option>
                              <option value=""></option>
                              <option value=""></option>
                            </select>
                          </div>
                        </div>
                        <div class="col-12 col-sm-6">
                          <div class="form-group">
                            <label>Invoice Date<span style="color:red">*</span></label>
                            <input type="date" class="form-control" formControlName="invoiceDate">
                          </div>
                        </div>
                        <div class="col-12 col-sm-6">
                          <div class="form-group">
                            <label>Due Date<span style="color:red">*</span></label>
                            <input type="date" class="form-control" formControlName="dueDate">
                          </div>
                        </div>
                        <div class="col-12 col-sm-6">
                          <div class="form-group">
                            <label>Billing Address</label>
                            <input type="text" class="form-control" formControlName="billingAddress">
                          </div>
                        </div>
                        <div class="col-12">
                          <div class="form-group">
                            <label>Items/Services</label>
                            <textarea class="form-control" formControlName="itemsServices"></textarea>
                          </div>
                        </div>
                        <div class="col-12 col-sm-6">
                          <div class="form-group">
                            <label>Taxes</label>
                            <input type="number" class="form-control" formControlName="taxes">
                          </div>
                        </div>
                        <div class="col-12 col-sm-6">
                          <div class="form-group">
                            <label>Discounts</label>
                            <input type="number" class="form-control" formControlName="discounts">
                          </div>
                        </div>
                        <div class="col-12">
                          <div class="form-group">
                            <label>Notes</label>
                            <textarea class="form-control" formControlName="notes"></textarea>
                          </div>
                        </div>
                        <div class="col-12">
                          <button type="submit" class="btn btn-primary" >Update Invoice</button>
                        </div>
                      </div>
                    </form>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
          </div>
        </div>
      </div>
    </div>




  <!-- Details Invoice Modal -->
<div class="modal fade" id="detailsInvoiceModal" tabindex="-1" role="dialog" aria-labelledby="detailsInvoiceModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="detailsInvoiceModalLabel">Details Invoice</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <h5 class="form-title"><span>Invoice Details</span></h5>
        <div class="row">
          <div class="col-12">
            <p><strong>Patient Name:</strong> John Doe</p>
            <p><strong>Invoice Date:</strong> 2023-05-27</p>
            <p><strong>Due Date:</strong> 2023-06-10</p>
            <p><strong>Billing Address:</strong> 123 Main Street</p>
          </div>
        </div>
        <h5 class="form-title"><span>Payment</span></h5>
        <div class="row">
          <div class="col-12">
            <p><strong>Total Amount:</strong> 500 MAD</p>
            <p><strong>Payment Status:</strong> Paid</p>
          </div>
        </div>
        <h5 class="form-title"><span>Items/Services</span></h5>
        <div class="row">
          <div class="col-12">
            <ul class="list-group">
              <li class="list-group-item">
                <div class="row">
                  <div class="col-6"><strong>Item/Service</strong></div>
                  <div class="col-6"><strong>Amount</strong></div>
                </div>
              </li>
              <li class="list-group-item">
                <div class="row">
                  <div class="col-6">Consultation</div>
                  <div class="col-6">$100</div>
                </div>
              </li>
              <li class="list-group-item">
                <div class="row">
                  <div class="col-6">Lab Test</div>
                  <div class="col-6">$50</div>
                </div>
              </li>
            </ul>
          </div>
        </div>
        <h5 class="form-title"><span>Taxes and Discounts</span></h5>
        <div class="row">
          <div class="col-12">
            <p><strong>Taxes:</strong> $10</p>
            <p><strong>Discounts:</strong> $20</p>
          </div>
        </div>
        <h5 class="form-title"><span>Notes</span></h5>
        <div class="row">
          <div class="col-12">
            <p>This is a note related to the invoice.</p>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla tempor finibus sapien, at consequat dolor tincidunt sed. Integer tincidunt, mauris quis volutpat finibus, est massa gravida velit, nec ullamcorper eros libero a mi.</p>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<!-- Delete Invoice Confirmation Modal -->
<div class="modal fade" id="deleteInvoiceModal" tabindex="-1" role="dialog" aria-labelledby="deleteInvoiceModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="deleteInvoiceModalLabel">Delete Invoice</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      
      <div class="modal-body text-center">
        <p>Are you sure you want to delete this invoice?</p>
        <p>This action cannot be undone.</p>
        <img src="assets/img/areYouSure.png" style="width:40%" class="img-fluid">
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
        <button type="button" class="btn btn-danger">Delete</button>
      </div>
    </div>
  </div>
</div>
